"use client";

import React, { useEffect, useState } from "react";
import { useTheme } from "next-themes";
import styles from "./Header.module.css";

const Header = () => {
  const [mounted, setMounted] = useState(false);
  const { resolvedTheme, setTheme } = useTheme();

  useEffect(() => setMounted(true), []);

  return (
    <header className={styles.header}>
      <button
        aria-label="Toggle Dark Mode"
        type="button"
        className="toggle-theme"
        onClick={() => setTheme(resolvedTheme === "dark" ? "light" : "dark")}
      >
        {mounted && (
          <svg
            viewBox="0 0 512 512"
            xmlns="http://www.w3.org/2000/svg"
            className={styles.themeIcon}
          >
            {resolvedTheme === "dark" ? (
              <g>
                <circle cx="245.806" cy="256" fill="#ffffff" r="143.448" />
                <circle cx="358.552" cy="256" fill="#3a7ebf" r="143.448" />
              </g>
            ) : (
              <g>
                <circle cx="245.806" cy="256" fill="#01192f" r="143.448" />
                <circle cx="358.552" cy="256" fill="#3a7ebf" r="143.448" />
              </g>
            )}
            <g>
              <path d="m496.403 188.523c-2.432-4.958-8.423-7.01-13.381-4.576-4.959 2.431-7.008 8.422-4.576 13.381 8.993 18.342 13.554 38.082 13.554 58.672 0 73.583-59.864 133.448-133.448 133.448-73.583 0-133.447-59.864-133.447-133.448s59.864-133.448 133.447-133.448c21.707 0 43.25 5.326 62.3 15.402 4.884 2.581 10.933.716 13.516-4.164 2.582-4.882.718-10.933-4.164-13.515-21.92-11.595-46.696-17.723-71.651-17.723-19.879 0-38.887 3.801-56.336 10.713-17.951-7.104-36.912-10.713-56.41-10.713-84.611 0-153.447 68.836-153.447 153.448s68.836 153.448 153.447 153.448c19.503 0 38.464-3.605 56.415-10.711 17.448 6.91 36.454 10.711 56.332 10.711 84.609 0 153.446-68.837 153.446-153.448 0-23.668-5.247-46.371-15.597-67.477zm-250.597 200.925c-73.583 0-133.447-59.864-133.447-133.448s59.864-133.448 133.447-133.448c10.561 0 20.936 1.222 31.029 3.627-43.065 27.205-71.73 75.225-71.73 129.821s28.666 102.616 71.731 129.821c-10.093 2.405-20.467 3.627-31.03 3.627z" />
              <path d="m245.806 78.572c5.522 0 10-4.477 10-10v-48.378c0-5.523-4.478-10-10-10s-10 4.477-10 10v48.378c0 5.523 4.477 10 10 10z" />
              <path d="m245.806 433.428c-5.522 0-10 4.477-10 10v48.378c0 5.523 4.478 10 10 10s10-4.477 10-10v-48.378c0-5.523-4.478-10-10-10z" />
              <path d="m68.378 256c0-5.523-4.478-10-10-10h-48.378c-5.522 0-10 4.477-10 10s4.478 10 10 10h48.378c5.522 0 10-4.477 10-10z" />
              <path d="m143.432 98.683c1.853 3.208 5.213 5.001 8.67 5.001 1.696 0 3.415-.432 4.99-1.341 4.783-2.761 6.422-8.877 3.66-13.66l-24.188-41.896c-2.761-4.782-8.874-6.421-13.66-3.66-4.783 2.761-6.422 8.877-3.66 13.66z" />
              <path d="m78.488 341.054-41.896 24.189c-4.783 2.761-6.422 8.877-3.66 13.66 1.853 3.208 5.213 5.001 8.67 5.001 1.696 0 3.416-.432 4.99-1.341l41.896-24.189c4.783-2.761 6.422-8.877 3.66-13.66-2.76-4.782-8.877-6.422-13.66-3.66z" />
              <path d="m36.592 146.757 41.896 24.189c1.575.909 3.294 1.341 4.99 1.341 3.456 0 6.818-1.793 8.67-5.001 2.762-4.783 1.123-10.899-3.66-13.66l-41.896-24.189c-4.784-2.762-10.9-1.123-13.66 3.66-2.762 4.783-1.123 10.899 3.66 13.66z" />
              <path d="m157.092 409.657c-4.785-2.762-10.9-1.123-13.66 3.66l-24.188 41.896c-2.762 4.783-1.123 10.899 3.66 13.66 1.575.909 3.294 1.341 4.99 1.341 3.456 0 6.818-1.793 8.67-5.001l24.188-41.896c2.762-4.783 1.123-10.899-3.66-13.66z" />
              <circle cx="461.515" cy="156.132" r="10" />
            </g>
          </svg>
        )}
      </button>
      <h1 className={styles.title}>Bọ́lájí Ayọ̀dejì</h1>
    </header>
  );
};

export default Header;
